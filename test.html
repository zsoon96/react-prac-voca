<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        // 깊은 복사를 하는 js 대표 함수들 > concat, filter, map, slice, 스프레드(전개) 연산자
            // 깊은 복사: 부모 컴포넌트가 다시 그려지면, 자식 컴포넌트도 다시 그려야하는지 연산을 해주는 작업

        // 1-스프레드 연산자
        const a = [1,2,3];
        const b = [...a] // [1,2,3]
        const c = [...a, 4] // [1,2,3,4]

        // 2-concat (기존 배열과 추가한 데이터 합해서 새로운 배열로 리턴)
        const a2 = [1,2,3];
        const b2 = a2.concat(4) // [1,2,3,4]
        const b3 = a2.push(4) // [4]
        a2.concat(4) // [1,2,3]
        const c2 = [0, ...a, 4] // [0,1,2,3,4]

        // 3-filter (걸러내는 함수)
        const a3 = [1,2,3];
        // filter는 boolean 타입으로 리턴 받고, 함수에 대한 true 값만 걸러냄 > 주로 삭제할 때 활용
        const b4 = a3.filter( (n) => { return n != 1 } ); // [2,3]

        // 4-slice (잘라내는 함수) > 주로 삽입할 때 활용
        const a4 = [1,2,3];
        const b4 = a4.slice(0,2) // [1,2]
        const c4 = [a4.slice(0,2)] // [[1,2]]
        const c5 = [...a.slice(0,2), 4, ...a.slice(2,3)] // [1,2,4,3]

        // 5-map (반복하는 함수)
        const a5 = [1,2,3];

        // 방법 1
        for ( let i = 0; i < a5.length; i++ ) {
            console.log(a5[i])
        }

        // 방법 2 > 리턴 못함
        a5.forEach((n) => {console.log(n)})

        // 방법 3
        const b5 = a5.map( (n) => {return n}) // [1,2,3]

        // 배열 수정하기 (응용)
        // 1-단일 객체 수정
        const data = {phone: "0000"};
        const a6 = {id: 1, name:"홍길동", phone:"1111"};
        const b6 = {...a6,...data};

        // 2-여러 객체 중, 단일 객체 정보 수정
        const users = [
            {
                id: 1,
                name: 'name1',
                phone: '1234'
            },
            {
                id: 2,
                name: 'name2',
                phone: '5678'
            },
            {
                id: 3,
                name: 'name3',
                phone: '0000'
            }
        ];

        const updateUserDto = {
            id: 2,
            name: 'name 수정'
        }

        // map함수로 반복하면서 updateUserDto의 id와 같으면 정보 변경
        const newUsers = users.map( user => user.id === updateUserDto.id ? {...user, ...updateUserDto} : u)

    </script>
</body>
</html>